!function(i){i.fn.pagination=function(a){function l(){s();var i='<div class="pagination">';if(n.length){i+='<ul class="pagination-list"><li data-page="'+(c-1)+'" class="'+(1==c?"disabled":"")+'" >上一页</li>';for(var l=0,o=n.length;l<o;l++)i+=n[l]==a.ellipsis?'<li class="ellipsis">'+a.ellipsis+"</li>":'<li data-page="'+n[l]+'" class="'+(c==n[l]?"active":"")+'">'+n[l]+"</li>";i+='<li data-page="'+(c+1)+'" class="'+(c==e?"disabled":"")+'">下一页</li></ul>'}i+='<div class="pagination-total">总计'+p+"条</div></div>",t.html(i)}function s(){if(e=Math.ceil(p/a.pageSize),n=[],!(e<2))if(c>e&&(c=e),e>11){var i=e-c;if(c>6&&i>5)n=[1,2,a.ellipsis,c-2,c-1,c,c+1,c+2,a.ellipsis,e-1,e];else if(c>6&&i<=5){n=[1,2,a.ellipsis];for(var l=7;l>=0;l--)n.push(e-l)}else if(c<=6&&i>5){for(var l=1;l<=8;l++)n.push(l);n=n.concat([a.ellipsis,e-1,e])}}else for(var l=1;l<=e;l++)n.push(l)}var t=this;a=i.extend({total:0,current:1,pageSize:10,ellipsis:"…",callback:null},a);var e,n,c=a.current,p=a.total;return t.setTotal=function(i){p=i,l()},t.on("click","[data-page]:not(.disabled)",function(){var s=i(this).data("page");isNaN(s)||(c=s,l(),a.callback&&a.callback(s,t))}),p>0&&l(),this}}(jQuery);