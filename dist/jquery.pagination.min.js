!function(i){i.fn.pagination=function(a){function l(){s();var i='<div class="pagination">';if(n.length){i+='<ul class="pagination-list"><li data-page="'+(c-1)+'" class="'+(1==c?"disabled":"")+'" >上一页</li>';for(var l=0,r=n.length;l<r;l++)i+=n[l]==a.ellipsis?'<li class="ellipsis">'+a.ellipsis+"</li>":'<li data-page="'+n[l]+'" class="'+(c==n[l]?"active":"")+'">'+n[l]+"</li>";i+='<li data-page="'+(c+1)+'" class="'+(c==t?"disabled":"")+'">下一页</li></ul>'}i+='<div class="pagination-total">总计'+p+"条</div></div>",e.html(i)}function s(){if(t=Math.ceil(p/a.pageSize),n=[],!(t<2))if(c>t&&(c=t),t>11){var i=t-c;if(c>6&&i>5)n=[1,2,a.ellipsis,c-2,c-1,c,c+1,c+2,a.ellipsis,t-1,t];else if(c>6&&i<=5){n=[1,2,a.ellipsis];for(var l=7;l>=0;l--)n.push(t-l)}else if(c<=6&&i>5){for(var l=1;l<=8;l++)n.push(l);n=n.concat([a.ellipsis,t-1,t])}}else for(var l=1;l<=t;l++)n.push(l)}var e=this;a=i.extend({total:0,current:1,pageSize:10,ellipsis:"…",callback:null},a);var t,n,c=a.current,p=a.total;return e.setTotal=function(i){p=i,p>0?l():e.empty()},e.current=c,e.on("click","[data-page]:not(.disabled)",function(){var s=Number(i(this).data("page"));isNaN(s)||(c=s,l(),a.callback&&a.callback(s,e))}),p>0&&l(),this}}(jQuery);