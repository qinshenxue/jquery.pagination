!function(i){i.fn.pagination=function(a){function l(){s();var i='<div class="pagination">';if(c.length){i+='<ul class="pagination-list"><li data-page="'+(r-1)+'" class="'+(1==r?"disabled":"")+'" >上一页</li>';for(var l=0,t=c.length;l<t;l++)i+=c[l]==a.ellipsis?'<li class="ellipsis">'+a.ellipsis+"</li>":'<li data-page="'+c[l]+'" class="'+(r==c[l]?"active":"")+'">'+c[l]+"</li>";i+='<li data-page="'+(r+1)+'" class="'+(r==n?"disabled":"")+'">下一页</li></ul>'}i+='<div class="pagination-total">总计'+o+"条</div></div>",e.html(i)}function s(){if(n=Math.ceil(o/a.pageSize),c=[],n<2)return void t(1);if(r>n&&t(n),n>11){var i=n-r;if(r>6&&i>5)c=[1,2,a.ellipsis,r-2,r-1,r,r+1,r+2,a.ellipsis,n-1,n];else if(r>6&&i<=5){c=[1,2,a.ellipsis];for(var l=7;l>=0;l--)c.push(n-l)}else if(r<=6&&i>5){for(var l=1;l<=8;l++)c.push(l);c=c.concat([a.ellipsis,n-1,n])}}else for(var l=1;l<=n;l++)c.push(l)}function t(i){e.current=r=i}var e=this;a=i.extend({total:0,current:1,pageSize:10,ellipsis:"…",callback:null},a);var n,c,r=a.current,o=a.total;return e.setTotal=function(i,a){o=i,a&&t(a),o>0?l():e.empty()},e.current=r,e.on("click","[data-page]:not(.disabled)",function(){var s=Number(i(this).data("page"));isNaN(s)||(t(s),l(),a.callback&&a.callback(s,e))}),o>0&&l(),this}}(jQuery);